<div class="set" id="<?php echo $type; ?>">
  <h3>Create new <?php echo $type; ?></h3>
  <form id="data_set">
    <?php foreach ($structure as $key => $format) {

 if ($key == "project_id") {
   continue;
 }

 $var_type = "text";

 switch ($format) {
   case "VARCHAR":
     $var_type = "text";
     break;
   case "TEXT":
     $var_type = "text";
     break;
   case "DATE":
     $var_type = "text";
     break;
  case "TINYINT":
  case "SMALLINT":
  case "MEDIUMINT":
  case "INTEGER":
  case "BIGINT":
  case "INT":
     $var_type = "text";
     break;

  case "FLOAT":
  case "DOUBLEPRECISION":
  case "REAL":
  case "DECIMAL":
  case "CHAR":
  case "VARCHAR":
  case "TINYTEXT":
  case "TEXT":
  case "LONGTEXT":
  case "TINYBLOB":
  case "BLOB":
  case "LONGBLOB":
  case "DATE":
  case "DATETIME":
  case "TIMESTAMP":
  case "TIME":
  case "YEAR":
      break;
  }

 if (is_array($format)) {
     $format = $format[0];
 }
?>
    <br>
    <label for="<?php echo $key; ?>"><?php echo ucfirst($key); ?></label>
    <input type="<?php echo $var_type; ?>"
	   class="form-control"
	   name="<?php echo $key; ?>"
	   placeholder="<?php echo "Enter $key"; ?>">
    <?php } ?>
    <br>
    <div style="text-align: center;">
      <div class="btn-group">
	<input type="submit" class="btn btn-success btn-valid-form">
	<button type="button" class="btn btn-default btn-large" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </form>
</div>
<hr>
  <table class="get table table-hover">
    <thead>
      <tr>
	<?php foreach ($structure as $key => $format) {	?>
	<th><?php echo $key; ?></th>
	<?php } ?>
    </thead>
    <tbody>
      <tr>
	<?php foreach ($structure as $key => $format) {	?>
	<th></th>
	<?php } ?>
      </tr>
    </tbody>
  </table>
<hr>
<script>
  var $form = $("form");
  $form.hide();

  var $set = $("div.set");

  $("h3").on("click", function() {
    if ($("form").is(":hidden")) {
      $form.slideDown(200);
    } else {
      $form.slideUp(200);
    }
  });

  $name = $set.attr("id");

  var $table = $("table.get").DataTable({
        "processing": true,
        "serverSide": true,
        "ajax": {
            "url": "input.php",
            "type": "POST",
            "data": { "name": $name },
        },
        "columns": [
 <?php foreach ($structure as $key => $format) { ?>
  { "data": "<?php echo $key; ?>" },
  <?php } ?>
       ],
  });

  $("form#data_set").on("submit", function($e) {
    $e.preventDefault();
    $send_request({
        "method": "data_set",
        "name": $set.attr("id"),
        "values": $(this).serialize(),
      });
   });

  function ucfirst($string) {
    return $string.charAt(0).toUpperCase() + $string.slice(1);
  }
</script>
